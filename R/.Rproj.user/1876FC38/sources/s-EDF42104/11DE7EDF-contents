data {
  int n; 
  int p; 
  vector[n] y; 
  matrix[n, p] X;
  matrix[p, p] Sigma; // (X'X)^(-1)
  vector[p] mu;
}

parameters {
  vector[p] beta;
  real log_sigma_sq;
}

transformed parameters {
  vector[n] y_hat;
  real<lower=0> sigma;
  sigma = exp(sqrt(log_sigma_sq));
}

model {
  log_sigma_sq ~ uniform(-5, 5);
  beta ~ multi_normal(mu, Sigma);
  y ~ normal(to_vector(X * beta), sigma);
}

